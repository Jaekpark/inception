---

title: "Netwhat"

preview: "OSI 7 Layer"

date: "2021-06-08"

author: "jaekpark"

previous: "Linked-list"

coverUrl: "https://www.shapeblue.com/wp-content/uploads/2021/03/network.jpg"

---


## OSI 7 LAYER

**OSI 7 계층**은 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층간 상호 작동하는 방식을 정해 놓은 것으로 ISO(국제표준화기구)에서 개발한 모델이다.

* **Synopsis**
	* 이 모델은 **Network Protocol**이 통신하는 구조를 7개의 계층으로 분리해 각 계층간 상호 작동하는 방식을 약속해 놓은 표준 모델이다. 1계층 물리 계층 (Physical Layer) 부터 7계층인 응용 계층(Application Layer)까지 7계층으로 아래와 같이 이루어져 있다.
	![](https://lh3.googleusercontent.com/proxy/aGAYWeVWwgvEA8cBJtsXG_BNw7uvu2vmI_aNIsj8OxW203excROCGn_uQjr4cpg6UdpdG4KapnUwgekUJV97Vteak2nx4uc_hf2BuOE6P7w5SXXJtAUQFXxt1VsZR1MTkPid8tRZdscmSNIt1Cc)

	*	해당 모델은 컴퓨터 통신 구조 모델과 앞으로 개발될 프로토콜의 표준을 제공하기 위해 개발된 참조 모델로 OSI 7 Layer 모델을 알면 네트워크 구성을 이해 할 수 있다.
	*	7개의 개별 단계로 이루어져 있으므로 특정 단계에서 이슈가 생기면 다른 단계의 장비나 소프트웨어를 건드리지 않고도 해당 단계 내에서 이슈를 해결 할 수 있다.


* **Feature**
	
	#### 데이터 캡슐화

	* **데이터 캡슐화**는 사용자 데이터가 각 계층을 지나면서 하위 계층은 상위 계층으로부터 온 정보를 데이터로 취급하며, 자신의 계층 특성을 담은 제어정보(주소, 에러 제어 등)를 **헤더화** 시켜 붙이는 일련의 과정을 말한다. 
	* 데이터를 보낼 때는 응용 계층에서 시작되어 OSI 계층을 차례로 내려오며 물리 계층으로 간다. 이 과정에서 캡슐화를 하게 되는데 각 계층은 다른 계층과 통신할 때 데이터에 특정 정보가 들어 있는 **머리말(헤더)**과 **꼬리말(푸터)**을 추가한 후 다른 계층으로 전달한다. 
	* `PDU(Protocol Data Unit)`은 프로토콜  단위이며 OSI 모델의 정보 처리 단위이다. PDU는 캡슐화 과정에서 만들어진다. 아래 계층으로 내려갈수록 PDU에는 다양한 프로토콜에 의해 헤더와 푸터가 더해진다. 마지막 물리 계층에서 PDU는 최종적인 모습으로 변하며, 데이터를 보내는 접점이 된다. 반대로 데이터를 받은 컴퓨터는 PDU로부터 프로토콜의 헤더와 푸터를 분석하며 올라가 마지막 응용 계층에 도달하면 원본 데이터만 남는다.

####  OSI 7 Layer
---

| Layer | Name               | PDU  | Protocols                                                    | Device | example                                            |
| ----- | ------------------ | ---- | ------------------------------------------------------------ | ------ | -------------------------------------------------- |
| 7     | Application layer  | Data | HTTP, SMTP, FTP, Telnet, DNS, modbus, SIP, AFP, APPC, MAP    | -      | 텔넷(Telnet), 구글 크롬, 이메일, 데이터베이스 관리 |
| 6     | Presentation Layer | Data | ASCII, MPEG, JPEG, MIDI, EBCDIC, XDR, AFP, PAP               | -      | 인코딩, 디코딩, 암호화, 복호화                     |
| 5     | Session Layer      | Data | NetBIOS, SAP, SDP, PIPO, SSH, TLS, NWLink, ASP, ADSP, ZIP, DLC | -      | -                                                  |
|4|Transport Layer|TCP-Segment, UDP-Datagram|TCP, UDP, SPX, SCTP, NetBEUI, RTP, ATP, NBP, AEP, OSPF|게이트웨이|방화벽 및 프록시 서버
|3|Network Layer|Packet|IP, IPX, IPsec, ICMP, ARP, NetBEUI, RIP, BGP, DDP, PLP|라우터|라우터
|2|DataLink Layer|Frame|IP, IPX, IPsec, ICMP, ARP, NetBEUI, RIP, BGP, DDP, PLP|브릿지, 스위치|MAC 주소, 브리지 및 스위치
|1|Physical Layer|Bit|10BASE-T, 100BASE-TX, ISDN, wired, wireless, RS-232, DSL, Twinax|허브, 리피터|전압, 허브, 네트워크 어댑터, 중계기 및 케이블 사양, 신호 변경(디지털,아날로그)

* **응용 계층**

	+	응용 계층(Application Layer, 7계층)에서는 OSI 7계층 모델에서 최상위 계층으로 사용자가 네트워크 자원에 접근하는 방법을 제공한다. 그리고 계층 7은 최종적으로 사용자가 볼 수 있는 유일한 계층으로 모든 네트워크 활동의 기반이 되는 인터페이스를 제공하는데, 즉 사용자가 실행하는 응용 프로그램들이 계층 7에 속한다고 보면 된다. 예를 들면 가상  터미널인  텔넷 구글의  크롬(chrome), 이메일(전자우편),  데이터베이스 관리 등의 서비스를 제공한다. 사용자와 가장 가까운 계층이다.

* **표현 계층**

	+	표현 계층(Presentation Layer, 6계층)에서는 응용 계층으로부터 전달받은 데이터를 읽을 수 있는 형식으로 변환하는데 표현 계층은 응용 계층의 부담을 덜어주는 역할이 되기도 한다. 응용 계층으로부터 전송받거나 응용 계층으로 전달해야 할 데이터의  인코딩과  디코딩이 이 계층에서 이루어진다. 그리고 표현 계층은 데이터를 안전하게 사용하기 위해서 암호화와 복호화를 하는데 이 작업도 표현 계층에서 이루어진다. 예를 들면  유니코드(UTF-8)로 인코딩 되어있는 문서를  ASCII로 인코딩 된 문서로 변환하려 할 때 이 계층에서 변환이 이루어진다.

 * **세션 계층**

	+	세션 계층(Session Layer, 5계층)에서는 두 컴퓨터 간의 대화나 세션을 관리하며,  포트(Port)연결이라고도 한다. 모든 통신 장치 간에 연결을 설정하고 관리 및 종료하고 또한 연결이 전이중(Full duplex / 양방향)인지 반이중(half duplex / 단방향)인지 여부를 확인하고 체크 포인팅과 유휴, 재시작 과정 등을 수행하며 호스트가 갑자기 중지되지 않고 정상적으로 호스트를 연결하는 데 책임이 있다. 즉 이 계층에서는  TCP/IP 세션을 만들고 없애고 통신하는 사용자들을 동기화하고 오류 복구 명령들을 일괄적으로 다루며 통신을 하기 위한 세션을 확립, 유지, 중단하는 작업을 수행한다.

* **전송 계층**

	* 전송 계층(Transport Layer, 4계층)의 주목적은 하위 계층에 신뢰할 수 있는 데이터 전송 서비스를 제공하는 것이다. 컴퓨터와 컴퓨터 간에 신뢰성 있는 데이터를 서로 주고받을 수 있도록 해주어 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 부담을 덜어주는데, 이때 시퀀스 넘버 기반의 오류 제어 방식을 사용한다. 흐름 제어, 분할/분리 및 오류 제어를 통해 전송 계층은 데이터가 오류 없이 점-대-점으로 전달되게 하는데 신뢰할 수 있는 데이터 전송을 보장하는 것은 매우 번거롭기에 OSI 모델은 전체 계층을 사용한다. 전송 계층은 연결형 프로토콜과 비 연결형 프로토콜을 모두 사용한다. 전송 계층의 예로는 특정 방화벽이나 프록시 서버가 있다.

* **네트워크 계층**

	*	네트워크 계층(Network Layer, 3계층)에서는 2홉 이상의 통신(멀티 홉 통신)을 담당한다. OSI 7 계층에서 가장 복잡한 계층 중 하나로서 실제 네트워크 간에 데이터  라우팅을 담당한다. 이때 라우팅이란 어떤 네트워크 안에서 통신 데이터를 짜여진 알고리즘에 의해 최대한 빠르게 보낼 최적의 경로를 선택하는 과정을 라우팅이라고 한다. 네트워크 계층은 네트워크 호스트의 논리 주소 지정(ex : ip 주소 사용)을 확인한다. 또한 데이터 스트림을 더 작은 단위로 분할하고 경우에 따라 오류를 감지해 처리한다. 그리고 여러 개의 노드를 거칠 때마다 경로를 찾아주는 역할을 하는 계층으로서 다양한 길이의 데이터를 네트워크들을 통해 전달하고 그 과정에서 전송 계층이 요구하는 서비스 품질을 제공하기 위한 기능적, 절차적 수단을 제공한다. 네트워크 계층은 라우팅, 흐름 제어, 세그멘테이션, 오류제어, 인터네트워킹 등을 수행한다. 라우터가 3계층에서 동작하고, 3계층에서 동작하는 스위치도 있다.

* **데이터링크 계층**

	* 데이터링크 계층(DataLink Layer, 2계층)은 물리적인 네트워크를 통해 데이터를 전송하는 수단을 제공한다. 1홉 통신을 담당한다고도 말한다. 홉(hop)은 컴퓨터 네트워크에서 노드에서 다음 노드로 가는 경로를 말한다. 1홉 통신이면 한 라우터에서 그다음 라우터까지의 경로를 말한다. 주목적은 물리적인 장치를 식별하는 데 사용할 수 있는 주소 지정 체계를 제공하는 것이다. 데이터 링크 계층은 포인트 투 포인트 간의 신뢰성 있는 전송을 보장하기 위한 계층으로 CRC 기반의 오류 제어와 흐름 제어가 필요하다. 네트워크 위의 개체들 간 데이터를 전달하고 물리 계층에서 발생할 수 있는 오류를 찾아내고 수정하는 데 필요한 기능적, 절차적 수단을 제공한다. 이 계층의 예시를 들자면  브리지 및 스위치 그리고 이더넷 등이 있다.
	
*	**물리 계층**
	*	물리 계층(Physical Layer, 1계층)은 OSI 모델의 맨 밑에 있는 계층으로서, 네트워크 데이터가 전송되는 물리적인 매체이다. 데이터는 0과 1의 비트열로 ON, OFF의 전기적 신호 상태로 이루어져 있다. 이 계층은  전압,  허브, 네트워크  어댑터,  중계기 및  케이블 사양을 비롯해 사용된 모든 하드웨어의 물리적 및 전기적 특성을 정의한다. 물리 계층은 연결을 설정 및 종료하고 통신 자원을 공유하는 수단을 제공하며  디지털에서  아날로그로 또는 그 반대로 신호를 변환하는 역할을 한다. OSI 모델에서 가장 복잡한 계층으로 간주된다.

### OSI vs TCP
---

* OSI 7 계층

과거 여러 정보 통신 업체들은 자사 장비 간의 연결만 지원하고 타사 장비와의 호환성은 지원하지 않았다. 이에 1984년 ISO에서 상호 이질적인 네트워크 간의 연결에 호환성 결여를 막기 위해 OSI 모델을 제시했다. OSI 모델은 네트워크를 이루고 있는 구성요소들을 7단계의 계층적 방법으로 나누고, 각 계층의 표준을 정한 것이다. OSI 7 계층의 목적은 표준화를 통하여 장비별로 이질적인 포트, 프로토콜의 호환 문제를 해결하고, OSI 모델을 이용하여 네트워크 시스템에서 일어나는 일을 쉽게 설명할 수 있게 하는 것에 있다. 또한 네트워크 관리자가 문제가 발생 했을 때 물리적인 문제인지, 응용 프로그램과 관련이 있는지 등 원인이 어디에 있는지 범위를 좁혀 쉽게 파악할 수 있게 한다. 응용 계층(Application Layer), 표현 계층(Presentation Layer), 세션 계층(Session Layer), 전송 계층(Transport Layer), 네트워크 계층(Network Layer), 데이터링크 계층(DataLink Layer), 물리 계층(Physical Layer)으로 구성되어 있다.

![enter image description here](https://www.guru99.com/images/1/102219_1135_TCPIPvsOSIM1.png)

* TCP/IP 4 계층

수많은 프로그램들이 인터넷으로 통신하는데 기반이 되는 프로토콜이다. 아파넷(ARPANET)이 개발되고 인터넷이 발전해나가는 과정에서 대부분의 데이터 통신이 TCP와 IP 기반으로 이루어졌기 때문에 다양한 프로토콜이 개발된 시점에서도 사실상 인터넷 프로토콜을 대표하는 용어로 사용 중이다. 이를 이용해서 컴퓨터를 연결하는 체계를 이더넷(Ethernet)이라고 부른다. TCP/IP 4 계층의 목적은 인터넷에 연결된 서로 다른 기종의 컴퓨터들이 데이터를 주고받을 수 있도록 하는 인터넷 표준 프로토콜을 만드는 것에 있다. 또한, OSI 참조 모델을 기반으로 상업적이고 실무적으로 이용될 수 있도록 단순화된 현실화의 과정에서 채택된 모형이다. 응용 계층(Application Layer), 전송 계층(Transport Layer), 인터넷 계층(Internet Layer), 네트워크 액세스 계층(Network Access Area Layer)으로 구성되어 있다.
